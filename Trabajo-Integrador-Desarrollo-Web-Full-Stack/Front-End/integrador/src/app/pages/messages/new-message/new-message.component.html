<div class="container">
  <h1 class="text-center mt-5 pe-4">Nuevo mensaje</h1>
  
  <div class="message-container position-absolute top-50 start-50 translate-middle">
    
    <form [formGroup]="newMsg" (ngSubmit)="sendMsg($event)">
      <div class="mb-3 d-flex flex-row justify-content-start align-items-center">
        <div class="col"> 
          <div class="me-2">
            <label for="id_receiver" class="form-label">Destinatario</label>
            <select class="form-select" name="id_receiver" formControlName="id_receiver" >
              <option disabled selected value="">Seleccione...</option>
              <option *ngFor="let user of users" [value]="user.id_user">{{user.username}}</option>
            </select>
            <div class="text-danger" *ngIf="newMsg.get('id_receiver')?.hasError('required')">
              Seleccione una destinatario!
            </div>
          </div>
        </div>
      </div>
      
      <div class="mb-3 ">
        <label class="mb-1">Mensaje</label>
        <textarea type="text" class="form-control message-text" placeholder="Escribe..." formControlName="message"></textarea>
        <div class="text-danger" *ngIf="newMsg.get('message')?.hasError('required')">
          Ingrese un mensaje!
        </div>
        <div class="text-danger" *ngIf="newMsg.controls.message.errors?.maxlength.actualLength > 144">
          Caracteres limitados hasta 144!
        </div>
      </div>
  
      <div class="d-flex flex-column justify-content-center align-items-center">
        <button
          type="submit"
          mat-raised-button
          color="primary"
          class="mt-3"
          routerLink="/login"
        >
          Enviar Mensaje
        </button>
      </div>
    </form>
  </div>
</div>


